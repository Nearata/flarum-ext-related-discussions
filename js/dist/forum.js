(()=>{var s={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return s.d(o,{a:o}),o},d:(t,o)=>{for(var e in o)s.o(o,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})},o:(s,t)=>Object.prototype.hasOwnProperty.call(s,t),r:s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},t={};(()=>{"use strict";s.r(t);const o=flarum.core.compat["forum/app"];var e=s.n(o);const i=flarum.core.compat["common/extend"],n=flarum.core.compat["forum/components/PostStream"];var r=s.n(n);const a=flarum.core.compat["common/models/Discussion"];var c=s.n(a);function u(s,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,t){return s.__proto__=t,s},u(s,t)}const l=flarum.core.compat["common/Component"];var p=s.n(l);const d=flarum.core.compat["common/components/Placeholder"];var f=s.n(d);const h=flarum.core.compat["forum/components/DiscussionListItem"];var y=s.n(h),v=function(s){var t,o;function i(){for(var t,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(t=s.call.apply(s,[this].concat(e))||this).discussions=[],t.position=1,t}o=s,(t=i).prototype=Object.create(o.prototype),t.prototype.constructor=t,u(t,o);var n=i.prototype;return n.oninit=function(t){s.prototype.oninit.call(this,t),this.discussions=this.attrs.discussions,this.position=this.attrs.position},n.view=function(){var s=e().forum.attribute("nearataRelatedDiscussionsAllowGuests");if(e().session.user||s)return m(".DiscussionList.nearataRelatedDiscussions.position"+this.position,[m("h3.DiscussionList-title",e().translator.trans("nearata-related-discussions.forum.discussion_list_title")),this.discussions.length?[m("ul.DiscussionList-discussions[role=feed]",[this.discussions.map((function(s,t){return m("li",{"data-id":s.id(),role:"article","aria-setsize":"-1","aria-posinset":t},[m(y(),{discussion:s,params:{}})])}))])]:m(f(),{text:e().translator.trans("nearata-related-discussions.forum.no_results")})])},i}(p());e().initializers.add("nearata/related-discussions",(function(){e().store.models.nearataRelatedDiscussions=c(),c().prototype.nearataRelatedDiscussions=c().hasMany("nearataRelatedDiscussions"),(0,i.extend)(r().prototype,"view",(function(s){var t=e().forum.attribute("nearataRelatedDiscussionsPosition"),o=this.discussion.nearataRelatedDiscussions();"first_post"===t&&s.children.splice(1,0,m(v,{discussions:o,position:1})),"last_post"===t&&s.children.splice(s.children.length-1,0,m(v,{discussions:o,position:2}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map